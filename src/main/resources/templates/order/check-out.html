<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Thanh toán</title>
</head>
<body>
	<div class="container mt-4">
		<h2 class="text-primary mb-4">XÁC NHẬN ĐƠN HÀNG</h2>

		<form th:action="@{/order/confirm}" method="post">
			<div class="row">
				<div class="col-md-5">
					<div class="card shadow-sm">
						<div class="card-header bg-dark text-white">
							<h5 class="mb-0">Thông tin người nhận</h5>
						</div>
						<div class="card-body">
							<div class="mb-3">
								<label class="form-label font-weight-bold">Người mua:</label> <input
									type="text" class="form-control" th:value="${user.fullname}"
									readonly>
							</div>
							<div class="mb-3">
								<label class="form-label font-weight-bold">Ngày đặt:</label> <input
									type="text" class="form-control"
									th:value="${#dates.format(#dates.createNow(), 'dd/MM/yyyy')}"
									readonly>
							</div>
							<div class="mb-3">
								<label class="form-label font-weight-bold">Địa chỉ giao
									hàng:</label>
								<textarea class="form-control" name="address" rows="3"
									placeholder="Nhập địa chỉ nhận hàng cụ thể..." required></textarea>
							</div>
							<div class="mt-4 border p-3 rounded bg-light">
								<label class="form-label font-weight-bold d-block"><i
									class="bi bi-wallet2"></i> Phương thức thanh toán:</label>
								<div class="form-check form-check-inline">
									<input class="form-check-input" type="radio"
										name="paymentMethod" id="cod" value="COD" checked> <label
										class="form-check-label" for="cod">Tiền mặt (COD)</label>
								</div>
								<div class="form-check form-check-inline">
									<input class="form-check-input" type="radio"
										name="paymentMethod" id="vnpay" value="VNPAY"> <label
										class="form-check-label" for="vnpay">Online (VNPay)</label>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="col-md-7">
					<div class="card shadow-sm">
						<div class="card-header bg-info text-white">
							<h5 class="mb-0">Sản phẩm đã chọn</h5>
						</div>
						<div class="card-body p-0">
							<table class="table table-hover mb-0">
								<thead class="table-light">
									<tr>
										<th>Sản phẩm</th>
										<th class="text-center">Số lượng</th>
										<th class="text-right">Giá</th>
										<th class="text-right">Tổng</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="item : ${cart.items}">
										<td th:text="${item.name}">Tên giày</td>
										<td class="text-center" th:text="${item.qty}">1</td>
										<td class="text-right"
											th:text="${#numbers.formatDecimal(item.price, 0, 'COMMA', 0, 'POINT')} + ' ₫'">0</td>
										<td class="text-right font-weight-bold text-danger"
											th:text="${#numbers.formatDecimal(item.price * item.qty, 0, 'COMMA', 0, 'POINT')} + ' ₫'">0</td>
									</tr>
								</tbody>
								<tfoot class="bg-light">
									<tr>
										<td colspan="3" class="text-right font-weight-bold">TỔNG
											THANH TOÁN:</td>
										<td class="text-right font-weight-bold text-danger h5"
											th:text="${#numbers.formatDecimal(cart.amount, 0, 'COMMA', 0, 'POINT')} + ' ₫'">0</td>
									</tr>
								</tfoot>
							</table>
						</div>
						<div class="card-footer text-right">
							<a th:href="@{/cart/view}" class="btn btn-secondary mr-2">Quay
								lại giỏ hàng</a>
							<button type="submit" class="btn btn-success px-4">XÁC
								NHẬN ĐẶT HÀNG</button>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</body>
</html>